@swush 1.0

zync
{
	# Each backup block is backed up to the rsync destination
	backup
	{
		host : root@10.0.0.2
		directory : /
		
		# Exclude files or dirs
		exclude : public_html/omry.zip
	    exclude : /cdrom
	    exclude : /dev
	    exclude : /home/*/temp
	    exclude : /media
	    exclude : /proc
	    exclude : /sys
	    exclude : /tmp
	    exclude : /var/cache
	    exclude : /var/log
	    exclude : /var/lib/mysql
	    exclude : /root/backup
	    exclude : /storage
		
	}
	
	rsync
	{
		# Rsync command
		command : /usr/bin/rsync
		
		# Destination directory, ${host} will be replaced by the corresponding backup.host value.
		destination : "/storage/backup/${host}"
		
		# rsync options, see rsync man page.
		options 
		{
			-a 
			--force 
			--delete-excluded  
			--delete 
		}
	}
	
	zfs
	{
		# 
		backup_file_system : storage/backup
		
		/**
		 * ZFS command, default is /usr/sbin/zfs
		 */
		 # zfs : /usr/sbin/zfs

		snapshot
		{
			/**
			 * Snapshot name pattern, default is yyyy_MM_dd__kk_mm_ss_zzz
			 */
			# name_pattern : yyyy_MM_dd__kk_mm_ss_zzz
			
			
			/**
			 * auto delete snapshots older than :
			 * nU, where n is the number (floats supported) and U is a unit:
			 * m : minute
			 * h : hour
			 * d : day
			 * for example, 30d will delete snapshots older than 30 days.
			 */
			delete_older : 30d
		}		 
	}
}